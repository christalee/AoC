from aoc_2019_code import *


def test_day8():
    assert day8((-1, 2, 2), '0222112222120000') == {'part1': 4}
    assert day8() == {'part1': 1965}


def test_day7():
    assert day7("3,15,3,16,1002,16,10,16,1,16,15,15,4,15,99,0,0") == 43210
    assert day7("3,23,3,24,1002,24,10,24,1002,23,-1,23,101,5,23,23,1,24,23,23,4,23,99,0,0") == 54321
    assert day7("3,31,3,32,1002,32,10,32,1001,31,-2,31,1007,31,0,33,1002,33,7,33,1,33,31,31,1,32,31,31,4,31,99,0,0,0") == 65210


def test_day6():
    example = 'COM)B,B)C,C)D,D)E,E)F,B)G,G)H,D)I,E)J,J)K,K)L,K)YOU,I)SAN'.split(',')
    assert day6(example) == {'part1': 54, 'part2': 4}
    assert day6() == {'part1': 251208, 'part2': 397}


def test_day5():
    assert day5([1], '1002,4,3,4,33') == 0
    assert day5([5], '3,0,4,0,99') == 5

    assert day5([1], '3,9,8,9,10,9,4,9,99,-1,8') == 0
    assert day5([8], '3,9,8,9,10,9,4,9,99,-1,8') == 1

    assert day5([1], '3,9,7,9,10,9,4,9,99,-1,8') == 1
    assert day5([8], '3,9,7,9,10,9,4,9,99,-1,8') == 0

    assert day5([1], '3,3,1108,-1,8,3,4,3,99') == 0
    assert day5([8], '3,3,1108,-1,8,3,4,3,99') == 1

    assert day5([1], '3,3,1107,-1,8,3,4,3,99') == 1
    assert day5([8], '3,3,1107,-1,8,3,4,3,99') == 0

    assert day5([0], '3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9') == 0
    assert day5([8], '3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9') == 1

    assert day5([0], '3,3,1105,-1,9,1101,0,0,12,4,12,99,1') == 0
    assert day5([8], '3,3,1105,-1,9,1101,0,0,12,4,12,99,1') == 1

    example = "3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99"
    assert day5([7], example) == 999
    assert day5([8], example) == 1000
    assert day5([9], example) == 1001

    assert day5([1]) == 9654885
    assert day5([5]) == 7079459


def test_day4():
    assert day4() == {'part1': 1099, 'part2': 710}


def test_day3():
    assert day3(['R8,U5,L5,D3', 'U7,R6,D4,L4']) == {'part1': 6, 'part2': 30}
    assert day3(['R75,D30,R83,U83,L12,D49,R71,U7,L72', 'U62,R66,U55,R34,D71,R55,D58,R83']) == {'part1': 159, 'part2': 610}
    assert day3(['R98,U47,R26,D63,R33,U87,L62,D20,R33,U53,R51', 'U98,R91,D20,R16,D67,R40,U7,R15,U6,R7']) == {'part1': 135, 'part2': 410}
    assert day3() == {'part1': 529, 'part2': 20386}


def test_day2():
    assert day2('1,9,10,3,2,3,11,0,99,30,40,50') == 3500
    assert day2('1,0,0,0,99') == 2
    # assert day2('2,3,0,3,99') == 2
    # assert day2('2,4,4,5,99,0') == 2
    assert day2('1,1,1,4,99,5,6,0,99') == 30
    assert day2(None, (12, 2)) == 3790645
    assert day2(None, (65, 77)) == 19690720
